<%- include("header") -%>

    <div class="main">
      <form class="" action="/course/addNewCourse" method="post">
        <label>Course Title</label>
        <input type="text" name="title" placeholder="Enter a Title">
        <label>Course Description</label>
        <textarea name="des" rows="4" cols="40" placeholder="Enter Description"></textarea>

        <label>Number of Topics</label>
        <input type="number" id="noOfTopics" name="noOfTopics" placeholder="Enter a Numbers">


        <!-- This should be generated by javascript dynamicly -->
        <div class="" id="topInpCon">

        </div>
        <button type="submit" name="button">Add</button>
      </form>
    </div>

    <script type="text/javascript">

    const noOfTopicsEle = document.getElementById("noOfTopics");
    const topInpCon = document.getElementById("topInpCon");

    noOfTopicsEle.addEventListener("change", () => {

      topInpCon.innerHTML = '';

      noOfTopics = noOfTopicsEle.value;

      for(i = 1; i <= noOfTopics; i++){
        let tCon = document.createElement("div");

        let tLable = document.createElement("lable");
        tLable.setAttribute("for", `t${i}Title`);
        tLable.innerHTML = `Topic ${i} detail`;
        tCon.append(tLable);

        let tTitle = document.createElement("input");
        tTitle.setAttribute('type', 'text');
        tTitle.setAttribute('name', `t${i}Title`);
        tTitle.setAttribute('placeholder', `Topic ${i} Title`);
        tCon.append(tTitle);

        let tDes = document.createElement("input");
        tDes.setAttribute('type', 'text');
        tDes.setAttribute('name', `t${i}Des`);
        tDes.setAttribute('placeholder', `Topic ${i} Description`);
        tCon.append(tDes);

        let tLink = document.createElement("input");
        tLink.setAttribute('type', 'url');
        tLink.setAttribute('name', `t${i}Link`);
        tLink.setAttribute('placeholder', `Topic ${i} Resourse URL`);
        tCon.append(tLink);

        topInpCon.append(tCon);
      }
    });

    </script>


  </body>
</html>
